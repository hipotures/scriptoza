# VBC (Video Batch Compression) Configuration File
# This file contains default settings for video batch compression
# CLI arguments override these settings

[general]
# Number of parallel compression threads (1-8)
threads = 4

# Constant quality value for AV1 encoder (lower = better quality, larger file)
# Typical range: 30 (high quality) to 50 (lower quality)
cq = 45

# Prefetch factor for submit-on-demand queue
# max_inflight = prefetch_factor Ã— threads
# 1 = strict FIFO, higher values = more parallelism
prefetch_factor = 1

# GPU acceleration (True = NVENC GPU encoder, False = SVT-AV1 CPU encoder)
# GPU is much faster but slightly lower quality than CPU
gpu = True

# Copy EXIF metadata (GPS coordinates, camera info, timestamps) to output
# Set to False if you want to strip metadata for privacy
copy_metadata = True

# Skip files that already use AV1 codec (avoid recompressing AV1 to AV1)
# Set to True to skip AV1 files, False to compress them anyway
skip_av1 = False

# Strip non-ASCII Unicode characters from filenames in UI display
# True = replace emoji and special chars with '?' for clean table formatting
# False = show original filenames (may break UI alignment with emoji/wide chars)
# Note: Only affects display, file names are never modified
strip_unicode_display = True

# Minimum file size in bytes to process (files smaller than this are ignored)
# Default: 1048576 (1 MiB) - set to 0 to include even empty files
# Useful to skip tiny corrupted files or test clips
min_size_bytes = 1048576

# Clean existing .err markers and retry failed files
# False = skip files with .err markers (default, safe)
# True = delete .err files and retry compression (use after fixing issues)
clean_errors = False

# Video file extensions to process (comma-separated, without dots)
# All output files will be converted to .mp4 (standard container for AV1)
# Example: mp4, flv, avi, mkv, mov
extensions = mp4, flv

[autorotate]
# Auto-rotation rules: regex_pattern = rotation_angle
# Rotation angle must be: 0, 90, 180, or 270 degrees
# Applied ONLY if --rotate-180 flag is NOT provided in CLI
# CLI flag always takes priority over config
# NOTE: Use single backslash (\d) for regex patterns with RawConfigParser

# QVR camera files (format: QVR_YYYYMMDD_HHMMSS.mp4)
# These files are typically recorded upside-down
QVR_\d{8}_\d{6}\.mp4 = 180

# Add more patterns as needed:
# CAMERA_\d{4}\.mp4 = 90
# FRONT_.*\.mp4 = 180
